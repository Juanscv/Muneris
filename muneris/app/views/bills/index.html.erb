<h1>Bills</h1>

<% render partial: 'grid' %>

<div class="w-container">
  <div class="w-row">
    <div class="w-col w-col-2">
        <div class="w-row">
          <div class="w-col w-col-2">
            <%= link_to image_tag("add.png"), new_bill_path %>
          </div>
          <div class="w-col w-col-10">
            <h4><%= link_to 'Add new', new_bill_path, class: "profile-sections" %></h4>
          </div>        
        </div>
    </div>
  </div>
  <div class="w-row">
    <div class="w-col w-col-2">
      <div class ="wg-detached-filter">
        <div>Consumption: <%= grid_filter @bills_grid, :consumption_filter %></div>
        
        <div>Payment:  <%= grid_filter @bills_grid, :value_filter %></div>

        <div>Type of bill:  <%= grid_filter @bills_grid, :service_filter %></div>

        <div>Date:	<%= grid_filter @bills_grid, :date_added %></div>
      </div>
      <div class="external-buttons">
        <button class="btn btn-primary wg-external-submit-button" data-grid-name="grid">Filter grid</button>
        <button class="btn wg-external-reset-button" data-grid-name="grid">Reset grid</button>
      </div>
    </div>
    <div class="w-col w-col-10">
      <div class="wice-grid">
        <%= render_grid(@bills_grid) %>
      </div>
    </div>
  </div>
  <div class="w-row">
  <div id="radio_buttons">
        <form class="type flash">
            <input type="radio" name="type" checked="checked" value="1">Energy bills</input>
            <input type="radio" name="type" value="2">Water bills</input>
            <input type="radio" name="type" value="3">Gas bills</input>
        </form>
    </div>  
    <div class="w-col w-col-11">
      <%= high_stock("echart", @echart) %>
      <%= high_stock("wchart", @wchart) %>
      <%= high_stock("gchart", @gchart) %>
      <div class="asterisk">*This chart is independent from the above filters.</div>
    </div>
  </div>
</div>


<script>
    $( document ).ready(function() {

      $('#echart').show();
      $('#wchart').hide();
      $('#gchart').hide();

    $("#radio_buttons input[name='type']").click(function(){
        if($('input:radio[name=type]:checked').val() == "1"){
          $('#echart').show();
          $('#wchart').hide();
          $('#gchart').hide();
        }
        if($('input:radio[name=type]:checked').val() == "2"){
          $('#echart').hide();
          $('#wchart').show();
          $('#gchart').hide();
        }
        if($('input:radio[name=type]:checked').val() == "3"){
          $('#echart').hide();
          $('#wchart').hide();
          $('#gchart').show();
        }

    });
    });


</script>



